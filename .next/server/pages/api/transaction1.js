"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/transaction1";
exports.ids = ["pages/api/transaction1"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "(api)/./pages/api/transaction1.js":
/*!***********************************!*\
  !*** ./pages/api/transaction1.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n//const { PrismaClient } = require('@prisma/client');\n//const prisma = new PrismaClient();\n//async function createNewProductTransaction(supplierData, productData) {\n//try {\n//await prisma.$transaction(async (prisma) => {\n//const newSupplier = await prisma.supplier.create({\n//data: supplierData,\n//});\n//const newProduct = await prisma.product.create({\n//data: {\n//...productData,\n//id_supp1: newSupplier.id_supp,\n//},\n//});\n//console.log('transaccion completada con exito');\n//return{\n//supplier: newSupplier,\n//producto: newProduct\n//}\n//});\n//} catch (error) \n//{\n//console.error('Error al realizar la actualizacion: ', error);\n//} finally {\n//await prisma.$disconnect();\n//}\n//}\n//const supplierData = {\n//id_supp: '223423232',\n//name_supp: 'Daniel',\n//app_supp: 'Hernandez',\n//brand_supp: 'Microsoft',\n//tel_supp: '4124129010',\n//com_supp: 100,\n//};\n//const productData = {\n//id_pro: '9991123',\n//name_pro: 'The legen of zelda Twiling princess',\n//cat_pro: 'Adventure',\n//price_pro: 1200,\n//barcode_pro: 'ANDF120I2MAO',\n//year_pro: '2010',\n//id_supp1: '223423232',\n//};\n//createNewProductTransaction(supplierData, productData);\nconst { PrismaClient  } = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\nconst prisma = new PrismaClient();\nasync function handler(req, res) {\n    let transaction;\n    try {\n        transaction = await prisma.$transaction([\n            prisma.supplier.create({\n                data: {\n                    id_supp: 7771231,\n                    name_supp: \"MuestraPaPapiChema\",\n                    app_supp: \"ejemplo1\",\n                    brand_supp: \"Microsoft\",\n                    tel_supp: \"456567890\",\n                    com_supp: 20000.0\n                }\n            }),\n            prisma.product.create({\n                data: {\n                    id_pro: 999781231,\n                    name_pro: \"MuestraPaChemita2\",\n                    cat_pro: \"24\",\n                    price_pro: 2550.0,\n                    barcod_pro: \"88856789012\",\n                    year_pro: \"2004\",\n                    id_supp1: 7771231\n                }\n            })\n        ]);\n        console.log(\"Transaction committed successfully.\");\n    } catch (error) {\n        console.error(\"Transaction failed:\", error);\n        if (transaction) {\n            console.log(\"Rolling back transaction...\");\n            await prisma.$queryRaw(\"ROLLBACK\");\n            console.log(\"Transaction rolled back.\");\n        }\n    } finally{\n        await prisma.$disconnect();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdHJhbnNhY3Rpb24xLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxxREFBcUQ7QUFFckQsb0NBQW9DO0FBRXBDLHlFQUF5RTtBQUNyRSxPQUFPO0FBQ0gsK0NBQStDO0FBRTNDLG9EQUFvRDtBQUNoRCxxQkFBcUI7QUFDekIsS0FBSztBQUVMLGtEQUFrRDtBQUM5QyxTQUFTO0FBQ0wsaUJBQWlCO0FBQ2pCLGdDQUFnQztBQUNwQyxJQUFJO0FBQ1IsS0FBSztBQUVMLGtEQUFrRDtBQUVsRCxTQUFTO0FBQ1Qsd0JBQXdCO0FBQ3hCLHNCQUFzQjtBQUN0QixHQUFHO0FBQ1AsS0FBSztBQUNULGtCQUFrQjtBQUNsQixHQUFHO0FBQ0MsK0RBQStEO0FBRW5FLGFBQWE7QUFDVCw2QkFBNkI7QUFDakMsR0FBRztBQUNQLEdBQUc7QUFHSCx3QkFBd0I7QUFDcEIsdUJBQXVCO0FBQ3ZCLHNCQUFzQjtBQUN0Qix3QkFBd0I7QUFDeEIsMEJBQTBCO0FBQzFCLHlCQUF5QjtBQUN6QixnQkFBZ0I7QUFDcEIsSUFBSTtBQUVKLHVCQUF1QjtBQUNuQixvQkFBb0I7QUFDcEIsa0RBQWtEO0FBQ2xELHVCQUF1QjtBQUN2QixrQkFBa0I7QUFDbEIsOEJBQThCO0FBQzlCLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDNUIsSUFBSTtBQUVKLHlEQUF5RDtBQUV6RCxNQUFNLEVBQUVBLGFBQVksRUFBRSxHQUFHQyxtQkFBT0EsQ0FBQztBQUVqQyxNQUFNQyxTQUFTLElBQUlGO0FBRUosZUFBZUcsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLElBQUlDO0lBRUosSUFBSTtRQUNGQSxjQUFjLE1BQU1KLE9BQU9LLGFBQWE7WUFDcENMLE9BQU9NLFNBQVNDLE9BQU87Z0JBQ25CQyxNQUFNO29CQUNKQyxTQUFTO29CQUNUQyxXQUFXO29CQUNYQyxVQUFVO29CQUNWQyxZQUFZO29CQUNaQyxVQUFVO29CQUNWQyxVQUFVO2dCQUNaO1lBQ0Y7WUFFSmQsT0FBT2UsUUFBUVIsT0FBTztnQkFDcEJDLE1BQU07b0JBQ0pRLFFBQVE7b0JBQ1JDLFVBQVU7b0JBQ1ZDLFNBQVM7b0JBQ1RDLFdBQVc7b0JBQ1hDLFlBQVk7b0JBQ1pDLFVBQVU7b0JBQ1ZDLFVBQVU7Z0JBQ1o7WUFDRjtTQUNEO1FBRURDLFFBQVFDLElBQUk7SUFDZCxFQUFFLE9BQU9DLE9BQU87UUFDZEYsUUFBUUUsTUFBTSx1QkFBdUJBO1FBQ3JDLElBQUlyQixhQUFhO1lBQ2ZtQixRQUFRQyxJQUFJO1lBQ1osTUFBTXhCLE9BQU8wQixVQUFVO1lBQ3ZCSCxRQUFRQyxJQUFJO1FBQ2Q7SUFDRixTQUFVO1FBQ1IsTUFBTXhCLE9BQU8yQjtJQUNmO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb25leGlvbmRiLy4vcGFnZXMvYXBpL3RyYW5zYWN0aW9uMS5qcz9iZTU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vY29uc3QgeyBQcmlzbWFDbGllbnQgfSA9IHJlcXVpcmUoJ0BwcmlzbWEvY2xpZW50Jyk7XHJcblxyXG4vL2NvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbi8vYXN5bmMgZnVuY3Rpb24gY3JlYXRlTmV3UHJvZHVjdFRyYW5zYWN0aW9uKHN1cHBsaWVyRGF0YSwgcHJvZHVjdERhdGEpIHtcclxuICAgIC8vdHJ5IHtcclxuICAgICAgICAvL2F3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oYXN5bmMgKHByaXNtYSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy9jb25zdCBuZXdTdXBwbGllciA9IGF3YWl0IHByaXNtYS5zdXBwbGllci5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgLy9kYXRhOiBzdXBwbGllckRhdGEsXHJcbiAgICAgICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgICAgICAvL2NvbnN0IG5ld1Byb2R1Y3QgPSBhd2FpdCBwcmlzbWEucHJvZHVjdC5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgLy9kYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8uLi5wcm9kdWN0RGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAvL2lkX3N1cHAxOiBuZXdTdXBwbGllci5pZF9zdXBwLFxyXG4gICAgICAgICAgICAgICAgLy99LFxyXG4gICAgICAgICAgICAvL30pO1xyXG5cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndHJhbnNhY2Npb24gY29tcGxldGFkYSBjb24gZXhpdG8nKTtcclxuXHJcbiAgICAgICAgICAgIC8vcmV0dXJue1xyXG4gICAgICAgICAgICAvL3N1cHBsaWVyOiBuZXdTdXBwbGllcixcclxuICAgICAgICAgICAgLy9wcm9kdWN0bzogbmV3UHJvZHVjdFxyXG4gICAgICAgICAgICAvL31cclxuICAgICAgICAvL30pO1xyXG4gICAgLy99IGNhdGNoIChlcnJvcikgXHJcbiAgICAvL3tcclxuICAgICAgICAvL2NvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIHJlYWxpemFyIGxhIGFjdHVhbGl6YWNpb246ICcsIGVycm9yKTtcclxuXHJcbiAgICAvL30gZmluYWxseSB7XHJcbiAgICAgICAgLy9hd2FpdCBwcmlzbWEuJGRpc2Nvbm5lY3QoKTtcclxuICAgIC8vfVxyXG4vL31cclxuXHJcblxyXG4vL2NvbnN0IHN1cHBsaWVyRGF0YSA9IHtcclxuICAgIC8vaWRfc3VwcDogJzIyMzQyMzIzMicsXHJcbiAgICAvL25hbWVfc3VwcDogJ0RhbmllbCcsXHJcbiAgICAvL2FwcF9zdXBwOiAnSGVybmFuZGV6JyxcclxuICAgIC8vYnJhbmRfc3VwcDogJ01pY3Jvc29mdCcsXHJcbiAgICAvL3RlbF9zdXBwOiAnNDEyNDEyOTAxMCcsXHJcbiAgICAvL2NvbV9zdXBwOiAxMDAsXHJcbi8vfTtcclxuXHJcbi8vY29uc3QgcHJvZHVjdERhdGEgPSB7XHJcbiAgICAvL2lkX3BybzogJzk5OTExMjMnLFxyXG4gICAgLy9uYW1lX3BybzogJ1RoZSBsZWdlbiBvZiB6ZWxkYSBUd2lsaW5nIHByaW5jZXNzJyxcclxuICAgIC8vY2F0X3BybzogJ0FkdmVudHVyZScsXHJcbiAgICAvL3ByaWNlX3BybzogMTIwMCxcclxuICAgIC8vYmFyY29kZV9wcm86ICdBTkRGMTIwSTJNQU8nLFxyXG4gICAgLy95ZWFyX3BybzogJzIwMTAnLFxyXG4gICAgLy9pZF9zdXBwMTogJzIyMzQyMzIzMicsXHJcbi8vfTtcclxuXHJcbi8vY3JlYXRlTmV3UHJvZHVjdFRyYW5zYWN0aW9uKHN1cHBsaWVyRGF0YSwgcHJvZHVjdERhdGEpO1xyXG5cclxuY29uc3QgeyBQcmlzbWFDbGllbnQgfSA9IHJlcXVpcmUoJ0BwcmlzbWEvY2xpZW50Jyk7XHJcblxyXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgbGV0IHRyYW5zYWN0aW9uO1xyXG5cclxuICB0cnkge1xyXG4gICAgdHJhbnNhY3Rpb24gPSBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKFtcclxuICAgICAgICBwcmlzbWEuc3VwcGxpZXIuY3JlYXRlKHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIGlkX3N1cHA6IDc3NzEyMzEsXHJcbiAgICAgICAgICAgICAgbmFtZV9zdXBwOiAnTXVlc3RyYVBhUGFwaUNoZW1hJyxcclxuICAgICAgICAgICAgICBhcHBfc3VwcDogJ2VqZW1wbG8xJyxcclxuICAgICAgICAgICAgICBicmFuZF9zdXBwOiAnTWljcm9zb2Z0JyxcclxuICAgICAgICAgICAgICB0ZWxfc3VwcDogJzQ1NjU2Nzg5MCcsXHJcbiAgICAgICAgICAgICAgY29tX3N1cHA6IDIwMDAwLjAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9KSxcclxuXHJcbiAgICAgIHByaXNtYS5wcm9kdWN0LmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgaWRfcHJvOiA5OTk3ODEyMzEsXHJcbiAgICAgICAgICBuYW1lX3BybzogJ011ZXN0cmFQYUNoZW1pdGEyJyxcclxuICAgICAgICAgIGNhdF9wcm86ICcyNCcsXHJcbiAgICAgICAgICBwcmljZV9wcm86IDI1NTAuMCxcclxuICAgICAgICAgIGJhcmNvZF9wcm86ICc4ODg1Njc4OTAxMicsXHJcbiAgICAgICAgICB5ZWFyX3BybzogJzIwMDQnLFxyXG4gICAgICAgICAgaWRfc3VwcDE6IDc3NzEyMzEsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSksXHJcbiAgICBdKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gY29tbWl0dGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignVHJhbnNhY3Rpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgIGlmICh0cmFuc2FjdGlvbikge1xyXG4gICAgICBjb25zb2xlLmxvZygnUm9sbGluZyBiYWNrIHRyYW5zYWN0aW9uLi4uJyk7XHJcbiAgICAgIGF3YWl0IHByaXNtYS4kcXVlcnlSYXcoJ1JPTExCQUNLJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdUcmFuc2FjdGlvbiByb2xsZWQgYmFjay4nKTtcclxuICAgIH1cclxuICB9IGZpbmFsbHkge1xyXG4gICAgYXdhaXQgcHJpc21hLiRkaXNjb25uZWN0KCk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInJlcXVpcmUiLCJwcmlzbWEiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidHJhbnNhY3Rpb24iLCIkdHJhbnNhY3Rpb24iLCJzdXBwbGllciIsImNyZWF0ZSIsImRhdGEiLCJpZF9zdXBwIiwibmFtZV9zdXBwIiwiYXBwX3N1cHAiLCJicmFuZF9zdXBwIiwidGVsX3N1cHAiLCJjb21fc3VwcCIsInByb2R1Y3QiLCJpZF9wcm8iLCJuYW1lX3BybyIsImNhdF9wcm8iLCJwcmljZV9wcm8iLCJiYXJjb2RfcHJvIiwieWVhcl9wcm8iLCJpZF9zdXBwMSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIiRxdWVyeVJhdyIsIiRkaXNjb25uZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/transaction1.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/transaction1.js"));
module.exports = __webpack_exports__;

})();